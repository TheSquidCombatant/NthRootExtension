name: test
description: 'Test .net project.'
inputs:
  version:
    required: true
runs:
  using: "composite"
  steps:
    - shell: pwsh
      run: |
        . "${{ github.action_path }}/action.ps1"
        Test `
            -version ${{ inputs.version }} `
            -repository "${{ github.repository }}".Replace("${{ github.repository_owner }}/", "") `
            -project "TheSquid.Numerics.Extensions.Tests" `
            -methods "NthRootRandomTest|NextBigIntegerRandomTest"
        echo "version=$env:version" >> "$GITHUB_OUTPUT"
        echo "success=$env:success"
        if ($env:success) { exit 0 } else { exit 1 }